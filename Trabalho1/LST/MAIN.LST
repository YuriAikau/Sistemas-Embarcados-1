     1                                  extern draw_table, draw_position
     2                                  extern modo_anterior
     3                                  
     4                                  segment code
     5                                  ..start:
     6 00000000 B8[0000]                    mov 		ax,data
     7 00000003 8ED8                        mov 		ds,ax
     8 00000005 B8[0000]                    mov 		ax,stack
     9 00000008 8ED0                        mov 		ss,ax
    10 0000000A BC[0002]                    mov 		sp,stacktop
    11                                  
    12                                  ; salvar modo corrente de video(vendo como est� o modo de video da maquina)
    13 0000000D B40F                        mov  		ah,0Fh
    14 0000000F CD10                        int  		10h
    15 00000011 A2[0000]                    mov  		[modo_anterior],al   
    16                                  
    17                                  ; alterar modo de video para gr�fico 640x480 16 cores
    18 00000014 B012                        mov     	al,12h
    19 00000016 B400                        mov     	ah,0
    20 00000018 CD10                        int     	10h
    21                                  
    22 0000001A E8(0000)                    call draw_table
    23                                  
    24 0000001D B85800                      mov ax,'X'
    25 00000020 50                          push ax
    26 00000021 B80000                      mov ax,0
    27 00000024 50                          push ax    
    28 00000025 B80000                      mov ax,0
    29 00000028 50                          push ax
    30                                  
    31 00000029 E8(0000)                    call draw_position
    32                                  
    33 0000002C B84F00                      mov ax,'O'
    34 0000002F 50                          push ax
    35 00000030 B80000                      mov ax,0
    36 00000033 50                          push ax    
    37 00000034 B80100                      mov ax,1
    38 00000037 50                          push ax
    39                                  
    40 00000038 E8(0000)                    call draw_position
    41                                  
    42 0000003B B84F00                      mov ax,'O'
    43 0000003E 50                          push ax
    44 0000003F B80000                      mov ax,0
    45 00000042 50                          push ax    
    46 00000043 B80200                      mov ax,2
    47 00000046 50                          push ax
    48                                  
    49 00000047 E8(0000)                    call draw_position
    50                                  
    51 0000004A B85800                      mov ax,'X'
    52 0000004D 50                          push ax
    53 0000004E B80100                      mov ax,1
    54 00000051 50                          push ax    
    55 00000052 B80000                      mov ax,0
    56 00000055 50                          push ax
    57                                  
    58 00000056 E8(0000)                    call draw_position
    59                                  
    60 00000059 B86100                      mov ax,'a'
    61 0000005C 50                          push ax
    62 0000005D B80100                      mov ax,1
    63 00000060 50                          push ax   
    64 00000061 B80100                      mov ax,1
    65 00000064 50                          push ax
    66                                  
    67 00000065 E8(0000)                    call draw_position
    68                                  
    69 00000068 B85800                      mov ax,'X'
    70 0000006B 50                          push ax
    71 0000006C B80100                      mov ax,1
    72 0000006F 50                          push ax    
    73 00000070 B80200                      mov ax,2
    74 00000073 50                          push ax
    75                                  
    76 00000074 E8(0000)                    call draw_position
    77                                  
    78 00000077 B85800                      mov ax,'X'
    79 0000007A 50                          push ax
    80 0000007B B80200                      mov ax,2
    81 0000007E 50                          push ax    
    82 0000007F B80000                      mov ax,0
    83 00000082 50                          push ax
    84                                  
    85 00000083 E8(0000)                    call draw_position
    86                                  
    87 00000086 B85800                      mov ax,'X'
    88 00000089 50                          push ax
    89 0000008A B80200                      mov ax,2
    90 0000008D 50                          push ax    
    91 0000008E B80100                      mov ax,1
    92 00000091 50                          push ax
    93                                  
    94 00000092 E8(0000)                    call draw_position
    95                                  
    96 00000095 B84F00                      mov ax,'O'
    97 00000098 50                          push ax
    98 00000099 B80200                      mov ax,2
    99 0000009C 50                          push ax    
   100 0000009D B80200                      mov ax,2
   101 000000A0 50                          push ax
   102                                  
   103 000000A1 E8(0000)                    call draw_position
   104                                          
   105 000000A4 B408                        mov    	ah,08h
   106 000000A6 CD21                        int     21h
   107 000000A8 B400                        mov  	ah,0   			; set video mode
   108 000000AA A0[0000]                    mov  	al,[modo_anterior]   	; modo anterior
   109 000000AD CD10                        int  	10h
   110 000000AF B8004C                      mov     ax,4c00h
   111 000000B2 CD21                        int     21h
   112                                  
   113                                  segment data
   114                                  
   115                                  segment stack stack
   116 00000000 <res 00000200>          	resb 		512
   117                                  stacktop:
